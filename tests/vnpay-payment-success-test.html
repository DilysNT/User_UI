<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test VNPay Payment Success URLs</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; background: #f5f5f5; }
        .test-link { 
            display: block; 
            padding: 15px; 
            margin: 10px 0; 
            background: white; 
            text-decoration: none; 
            color: #333; 
            border-radius: 8px; 
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            border-left: 4px solid #007cba;
        }
        .test-link:hover { background: #f0f8ff; }
        .vnpay { border-left-color: #1e88e5; }
        .real-data { border-left-color: #4caf50; }
        .container { max-width: 800px; margin: 0 auto; }
        .note { background: #fff3cd; padding: 15px; border-radius: 4px; margin: 20px 0; }
        code { background: #f8f9fa; padding: 2px 4px; border-radius: 3px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>🧪 Test VNPay Payment Success URLs</h1>
        
        <div class="note">
            <h3>📝 Test URLs cho VNPay payment success với đầy đủ parameters:</h3>
            <p>Các URL dưới đây mô phỏng callback từ VNPay sau khi thanh toán thành công.</p>
        </div>

        <h3>✅ VNPay Success - Real Format</h3>
        <a href="http://localhost:3000/payment-success?orderId=fab59be9-f3da-43f2-a7ce-22579fd234a5_896983&bookingId=fab59be9-f3da-43f2-a7ce-22579fd234a5&method=VNPay&vnp_ResponseCode=00&vnp_TransactionStatus=00" class="test-link real-data">
            Real VNPay Success URL (như trong yêu cầu)
        </a>

        <h3>🔄 VNPay Test Cases</h3>
        <a href="http://localhost:3000/payment-success?orderId=test-vnpay-order-123&bookingId=test-booking-456&method=VNPay&vnp_ResponseCode=00&vnp_TransactionStatus=00&amount=4000000" class="test-link vnpay">
            VNPay Test - Success Case
        </a>

        <a href="http://localhost:3000/payment-success?orderId=test-vnpay-order-456&bookingId=test-booking-789&method=VNPay&vnp_ResponseCode=24&vnp_TransactionStatus=02&amount=2500000" class="test-link vnpay">
            VNPay Test - Failed Case
        </a>

        <a href="http://localhost:3000/payment-success?orderId=test-vnpay-order-789&bookingId=test-booking-101&method=vnpay&amount=1500000" class="test-link vnpay">
            VNPay Test - Lowercase method
        </a>

        <h3>🧩 Edge Cases</h3>
        <a href="http://localhost:3000/payment-success?bookingId=only-booking-id-test&method=VNPay&vnp_ResponseCode=00" class="test-link">
            Only bookingId (no orderId)
        </a>

        <a href="http://localhost:3000/payment-success?orderId=only-order-id-test&method=VNPay&vnp_TransactionStatus=00" class="test-link">
            Only orderId (no bookingId)
        </a>

        <a href="http://localhost:3000/payment-success" class="test-link">
            No parameters (fallback test)
        </a>

        <div class="note">
            <h3>🔍 Kiểm tra Debug Info:</h3>
            <ul>
                <li>Mở Developer Tools (F12) để xem console logs</li>
                <li>Kiểm tra debug component hiển thị trên trang (chỉ trong development mode)</li>
                <li>Verify rằng API calls đến <code>localhost:5000</code> (không phải 5001)</li>
                <li>Confirm VNPay parameters được xử lý đúng</li>
            </ul>
        </div>

        <div class="note">
            <h3>📋 Expected Behavior:</h3>
            <ul>
                <li><strong>vnp_ResponseCode=00</strong> và <strong>vnp_TransactionStatus=00</strong> → Payment Success</li>
                <li>Trang sẽ hiển thị "Đặt tour thành công!" với VNPay payment method</li>
                <li>Debug info sẽ show tất cả URL parameters</li>
                <li>Fallback mock data nếu API call thất bại</li>
            </ul>
        </div>
    </div>
</body>
</html>
